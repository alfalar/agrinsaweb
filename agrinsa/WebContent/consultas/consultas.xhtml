<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>

</h:head>

<h:body>
	<f:view>
		<h:form id="form">
			<p:panelGrid columns="1">
				<f:facet name="header">
       				Informes
    			</f:facet>
				<p:selectOneMenu id="seltiposconsulta" value="#{consultasBean.selectedTiposconsulta}">
					<p:ajax listener="#{consultasBean.cambioconsulta}"
							update="paneles"/>												
					<f:selectItems value="#{consultasBean.tiposconsulta}"/>
				</p:selectOneMenu>
				<p:outputPanel id="paneles">
					<p:panel rendered="#{consultasBean.areaxciudadenabled}">
						<p:dataTable id="tblareaxciudad" var="cons" paginator="true" rows="10" 
							rendered="#{consultasBean.areaxciudadenabled}"
							paginatorAlwaysVisible="false" paginatorPosition="bottom"
							emptyMessage="No hay registros"
							value="#{consultasBean.areaxciudad}">
							<p:column>  
								<f:facet name="header">
	         						<h:outputText value="Ciudad"/>
	      						</f:facet>
		            			<h:outputText value="#{cons.ciudad}" />  
		        			</p:column>  
							<p:column>
								<f:facet name="header">
	         						<h:outputText value="Area(Hec)"/>
	      						</f:facet>						  
		            			<h:outputText value="#{cons.area}" />  
		        			</p:column>
						</p:dataTable>
						<h:commandLink rendered="#{consultasBean.areaxciudadenabled}">  
						    <p:graphicImage value="/images/excel.png" />  
						    <p:dataExporter type="xls" target="tblareaxciudad" fileName="areaxciudad"/>  
						</h:commandLink>  
					  
						<h:commandLink rendered="#{consultasBean.areaxciudadenabled}">  
					    	<p:graphicImage value="/images/pdf.png" />  
					    	<p:dataExporter type="pdf" target="tblareaxciudad" fileName="areaxciudad"/>  
						</h:commandLink>  
					</p:panel>
					<p:panel rendered="#{consultasBean.areaxveredaenabled}">
						<p:dataTable id="tblareaxvereda" var="cons" paginator="true" rows="10" 
							rendered="#{consultasBean.areaxveredaenabled}"
							paginatorAlwaysVisible="false" paginatorPosition="bottom"
							emptyMessage="No hay registros"
							value="#{consultasBean.areaxvereda}">
							<p:column>  
								<f:facet name="header">
	         						<h:outputText value="Vereda"/>
	      						</f:facet>
		            			<h:outputText value="#{cons.vereda}" />  
		        			</p:column>  
							<p:column>
								<f:facet name="header">
	         						<h:outputText value="Area(Hec)"/>
	      						</f:facet>						  
		            			<h:outputText value="#{cons.area}" />  
		        			</p:column>
						</p:dataTable>
						<h:commandLink rendered="#{consultasBean.areaxveredaenabled}">  
						    <p:graphicImage value="/images/excel.png" />  
						    <p:dataExporter type="xls" target="tblareaxvereda" fileName="areaxvereda"/>  
						</h:commandLink>  
					  
						<h:commandLink rendered="#{consultasBean.areaxveredaenabled}">  
					    	<p:graphicImage value="/images/pdf.png" />  
					    	<p:dataExporter type="pdf" target="tblareaxvereda" fileName="areaxvereda"/>  
						</h:commandLink>  
					</p:panel>
				</p:outputPanel>
			</p:panelGrid>
		</h:form>
	</f:view>
</h:body>

</html>